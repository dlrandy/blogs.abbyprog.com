---
templateKey: blog-post
id: mastering func
title: 掌握函数基础
slug: /2020/08/31/mastering-func/
date: 2020-08-31T03:48:03.125Z
description: javascript 函数回顾
headerImage: https://i.imgur.com/Ivxkc3R.jpg
tags:
  - fp, typescript, function
---

typescript里函数的类型，可以从函数值来推导出来；
所以函数变量不需要添加冗余的类型声明。


typescript的函数，可以根据return推导出函数的返回类型

在类里箭头函数改变了this工作的方式


trailing commas是js和ts 的最佳实践

可选参数必须放在必填函数的后面；
可选参数使用的时候，需要校验；所以有了
默认参数。

因为undefined有可能被用来作为变量名，
所以判断undefined的时候使用void 0；


arguments暴露了标准数组对象的一些方法，但不是
所有。

函数或者方法，重载是使用同样的名字和不同数量的参数或者不同的类型创建多个函数的能力。
在typescript里，重载函数需要先指定所有的函数签名，最后跟上实现的签名；
所有的函数签名应该兼容(指的是返回值类型)。

> 使用特殊的签名可以创建带有同名和同样数量的参数的函数，但是可以由不同类型的返回值。为了创建特殊的签名，
必须使用一个字符串来指定函数参数的类型。字符串字面量用来识别哪个重载函数在被调用


签名的实现必须兼容所有的重载签名，总是在列表的最后，接收any或者联合类型作为它的参数类型

写重载声明的时候，非特殊签名的声明放在最后



理解typescript的scope运行的原理，有助于理解变量的生命周期

lexical scoping
是编程语言使用程序源码的结构来决定哪些变量可以引用

dynamic scoping
使用的是程序栈的运行时state来决定哪些变量可以引用

词法作用域相对较容易理解一些




hoisting
在运行时，函数执行之前，所有的变量声明都会被移动到函数的顶端

let关键字运行将变量的作用设置到block内。

一个immutable的变量，意味着它是不能被修改的


立即执行函数是使用函数作用域创建词法作用域的一种模式。可以避免其他blocks的变量提升或者阻止污染全局作用域；也可以实现运行时的私有变量；

闭包是引用独立变量的函数。也就是定义在闭包里的函数，可以记住被创建时的context(作用域里的所有变量)

像是classes，module等组件被其他的组件使用的时候，很少担心实现运行时的私有属性。

使用模板字符串创建的特殊函数叫做tag函数，它主要是用来
修改标准模板字符串的行为的。
好处就是可以创建自定义的模板字符串处理器。

tag函数的参数，第一个是包含模板字符串里的静态字面量
接下来的参数就是依次的变量值







